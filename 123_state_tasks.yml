# Do not edit - automatically generated
# from the task_makefile.mustache template
# by create_task_makefile() via do_state_tasks()
# using scipiper package version 0.0.18

target_default: 123_state_tasks

include:
  - remake.yml

packages:
  - dataRetrieval
  - tidyverse
  - lubridate

sources:
  - 1_fetch/src/get_site_data.R
  - 3_visualize/src/plot_site_data.R
  - 2_process/src/tally_site_obs.R

file_extensions:
  - "ind"

targets:
  123_state_tasks:
    depends:
      - WI_data
      - '3_visualize/out/timeseries_WI.png'
      - WI_tally
      - MN_data
      - '3_visualize/out/timeseries_MN.png'
      - MN_tally
      - MI_data
      - '3_visualize/out/timeseries_MI.png'
      - MI_tally
      - IL_data
      - '3_visualize/out/timeseries_IL.png'
      - IL_tally
      - IA_data
      - '3_visualize/out/timeseries_IA.png'
      - IA_tally
      - IN_data
      - '3_visualize/out/timeseries_IN.png'
      - IN_tally

  # --- WI --- #
  
  WI_data:
    command: get_site_data(
      sites_info_file = '1_fetch/tmp/inventory_WI.tsv',
      parameter = parameter)

  3_visualize/out/timeseries_WI.png:
    command: plot_site_data(out_file = target_name,
      site_data = WI_data,
      parameter = parameter)

  WI_tally:
    command: tally_site_obs(WI_data)

  # --- MN --- #
  
  MN_data:
    command: get_site_data(
      sites_info_file = '1_fetch/tmp/inventory_MN.tsv',
      parameter = parameter)

  3_visualize/out/timeseries_MN.png:
    command: plot_site_data(out_file = target_name,
      site_data = MN_data,
      parameter = parameter)

  MN_tally:
    command: tally_site_obs(MN_data)

  # --- MI --- #
  
  MI_data:
    command: get_site_data(
      sites_info_file = '1_fetch/tmp/inventory_MI.tsv',
      parameter = parameter)

  3_visualize/out/timeseries_MI.png:
    command: plot_site_data(out_file = target_name,
      site_data = MI_data,
      parameter = parameter)

  MI_tally:
    command: tally_site_obs(MI_data)

  # --- IL --- #
  
  IL_data:
    command: get_site_data(
      sites_info_file = '1_fetch/tmp/inventory_IL.tsv',
      parameter = parameter)

  3_visualize/out/timeseries_IL.png:
    command: plot_site_data(out_file = target_name,
      site_data = IL_data,
      parameter = parameter)

  IL_tally:
    command: tally_site_obs(IL_data)

  # --- IA --- #
  
  IA_data:
    command: get_site_data(
      sites_info_file = '1_fetch/tmp/inventory_IA.tsv',
      parameter = parameter)

  3_visualize/out/timeseries_IA.png:
    command: plot_site_data(out_file = target_name,
      site_data = IA_data,
      parameter = parameter)

  IA_tally:
    command: tally_site_obs(IA_data)

  # --- IN --- #
  
  IN_data:
    command: get_site_data(
      sites_info_file = '1_fetch/tmp/inventory_IN.tsv',
      parameter = parameter)

  3_visualize/out/timeseries_IN.png:
    command: plot_site_data(out_file = target_name,
      site_data = IN_data,
      parameter = parameter)

  IN_tally:
    command: tally_site_obs(IN_data)

